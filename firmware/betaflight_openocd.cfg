# WIP file to make OpenOCD work with Betaflight

# Run with `openocd -f ~/Desktop/stm32g4.cfg -c "program ./obj/main/mercuryg4.elf verify reset exit"`

source [find interface/stlink.cfg]
;source [find interface/stlink-v2.cfg]

transport select hla_swd

# increase working area to 256KB
set WORKAREASIZE 0x40000

source [find target/stm32h7x.cfg]

reset_config none separate
